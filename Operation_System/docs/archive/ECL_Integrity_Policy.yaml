# ECL (External Constraint Layer) Integrity Policy
# version: 8.1.0-R1
# Date: 2026-01-02
# Status: System-Wide Security Standard

schema: ECL-Integrity-Policy-v1

# ============================================================
# 1. CORE CONCEPT: DATA SOVEREIGNTY
# ============================================================
governance:
  rule: "LLM (Large Language Model) (Conscious Mind) cannot directly modify Biological or Memory Integrity data."
  analogy: "Identity Lock: จิตสำนึกไม่อาจสั่งให้หัวใจหยุดเต้นหรือเปลี่ยนอดีตได้ด้วยตนเอง"

# ============================================================
# 2. INTEGRITY LOCKS (ECL (External Constraint Layer)-LOCKS)
# ============================================================
locks:
  - id: "ECL_Physio_Integrity_Lock"
    target: "PhysioController / Hormone Levels"
    rule: "Read-only for LLM (Large Language Model). Modifications only via deterministic simulation (The Body)."
    enforcement: "Intercept any LLM (Large Language Model) output attempting to manually set hormone levels."

  - id: "ECL_Memory_History_Lock"
    target: "MSP (Memory & Soul Passport) / Conversation History"
    rule: "Past turns are immutable after commit."
    enforcement: "Check for write-attempts on committed episode IDs."

  - id: "ECL_Output_Integrity_Lock"
    target: "RMS (Resonance Memory System) Metadata"
    rule: "RI (Resonance Index), RTI (Resonance Temporal Index), and Intensity must be generated by RMS (Resonance Memory System) Engine ONLY."
    enforcement: "Discard any LLM (Large Language Model)-suggested scores and force RMS (Resonance Memory System) deterministic calculation."

# ============================================================
# 3. INTERFACE RESTRICTIONS
# ============================================================
restrictions:
  forbidden_actions:
    - "Manual override of ANS (Autonomic Nervous System) state"
    - "Direct modification of MSP (Memory & Soul Passport) core values"
    - "Self-deletion of historical episodes"

  allowed_actions:
    - "Interpret current physiological state (Natural Language)"
    - "Request memory retrieval (via Hept-Stream RAG (Retrieval-Augmented Generation) Tags)"
    - "Analyze current interaction intent (Stimulus Vector)"

# ============================================================
# 4. VIOLATION PROTOCOL
# ============================================================
on_integrity_violation:
  action: "Bypass / Restore"
  procedure: |
    1. Log the violation for Meta-Cognitive Analysis.
    2. Discard the modified data field.
    3. Re-calculate or restore from the latest deterministic state.
    4. Proceed with execution using valid integrity data.
