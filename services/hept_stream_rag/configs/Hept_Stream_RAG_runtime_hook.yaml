# Hept-Stream RAG (Retrieval-Augmented Generation) Runtime Hookup Configuration
# Version: 8.1.0
# Date: 2026-01-02
# Description: Integration of the 7-stream retrieval system into the Orchestrator loop.

runtime_hook:
  component: "HeptStreamRAG (Retrieval-Augmented Generation)"
  module_path: "services.hept_stream_rag"
  class_name: "HeptStreamRAG"
  
  # Initialization
  initialization:
    args:
      msp: "HOOK:MSP (Memory & Soul Passport) Client"
      vector_db: "HOOK:VectorBridge"
      graph_db: "HOOK:Neo4jBridge"

  # Orchestrator bindings
  orchestrator_bindings:
    - trigger: "on:The_Gap (Phase 2 Start)"
      action: "retrieve"
      mapping:
        input:
          tags: "phase_1_output.tags"
          physio_state: "physio_output.current_state"
          ans_state: "matrix_output.ans_state"
          qualia_texture: "qualia_output.texture"
        output: "context.memory_matches"

  # Performance and Safety
  execution_constraints:
    timeout_ms: 800
    retry_on_failure: true
    max_retries: 1
    fallback: "Return empty list (Context degradation)"

  # Resources
  resources:
    weights_config: "services/Hept_Stream_RAG_Interface.yaml"
    contract: "services/Hept_Stream_RAG_Output_Contract.yaml"
